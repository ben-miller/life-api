syntax = "proto3";

package utility;

service UtilityService {
  rpc GetObsidianMetrics(EmptyRequest) returns(ObsidianMetrics);
  rpc GetFirefoxMetrics(EmptyRequest) returns(FirefoxMetrics);
  rpc GetOrgModeMetrics(EmptyRequest) returns(OrgModeMetrics);
  rpc GetYoutubeMetrics(EmptyRequest) returns(YoutubeMetrics);
  rpc GetTidalMetrics(EmptyRequest) returns(TidalMetrics);
  rpc GetCalendarMetrics(EmptyRequest) returns(CalendarMetrics);
  rpc GetAirtableJobSearchMetrics(EmptyRequest) returns(AirtableJobSearchMetrics);
  rpc GetTrelloMetrics(EmptyRequest) returns(TrelloMetrics);
}

message EmptyRequest {}

message ObsidianMetrics {
  int32 inbox_total_items = 1;
  int32 life_inbox_dir = 2;
  int32 journal_inbox_dir = 3;
  int32 administrivia_inbox_dir = 4;
  int32 desktop_inbox_dir = 5;
  int32 library_inbox_dir = 6;
}

message FirefoxMetrics {
  int32 bookmarks_count = 1;
}

message OrgModeTask {
  string task = 1;
  string state = 2;
}

message OrgModeMetrics {
  int32 inbox_total_items = 1;
  int32 total_bugs = 2;
  repeated OrgModeTask project_tasks = 3;
}

message YoutubeMetrics {
  int32 liked_videos_count = 1;
}

message TidalMetrics {
  int32 uncategorized_tracks = 1;
}

message CalendarMetrics {
  map<string, int32> total_sessions = 1;
  map<string, double> total_hours = 2;
}

message AirtableJobSearchMetrics {
  int32 ignored_applications = 1;
  int32 rejected_applications = 2;
  int32 rejected_after_phone_screening = 3;
  int32 rejected_after_technical_screening = 4;
  int32 rejected_after_full_interview = 5;
  int32 total_rejections = 6;
  int32 in_progress = 7;
  int32 total_sent = 8;
  int32 interested = 9;
}

message TrelloMetrics {
  int32 inbox_size = 1;
  int32 shopping_inbox_size = 2;
}
